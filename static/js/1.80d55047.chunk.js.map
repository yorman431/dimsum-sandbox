{"version":3,"sources":["../../../../src/FocusGroup/focusGroupManagerHoc.js","../../../../../src/form/SearchBox/withSearchable.js","../../../../../src/form/SearchBox/SearchBoxToggle.js","../../../../../src/form/SearchBox/SearchBoxImpl.js","../../../../../src/form/SearchBox/DSSearchBox.js","../../../../src/FocusGroup/FocusGrid.js","../../../../../src/form/ExpandableInput/ExpandableInputImpl.js","../../../../../src/form/ExpandableInput/DSExpandableInput.js","../../../src/utils.js","../../../../../src/FocusGroup/utils/getNextCellPosition.js","../node_modules/@elliemae/ds-utilities/cjs/hooks/useHotkeys.js","../../../src/Search.js"],"names":["WrappedComponent","options","onExitFocusGroup","onFocusPrevGroup","focusKeyBindings","props","keyBindings","withSearchable","debounce","value","prevPropValue","React","this","onKeyUp","searchOnEnter","key","e","onSearch","property","clearOnSearch","setState","query","target","containerProps","rest","buttonRef","onChange","nextProps","SearchBoxContainer","aggregatedClasses","SearchBoxToggle","isOpen","prevProps","prevValue","executeIfValue","handleSearch","expandableEl","contains","placeholder","clearable","className","width","innerRef","node","onBlur","onClose","onOpen","triggerComponent","buttonType","icon","showIcon","Component","disabled","style","readOnly","rightComponent","iconSize","onClick","DSSearchBox","undefined","searchIcon","toggleSearchInput","PropTypes","bool","FocusGridContext","createContext","Provider","preventDefault","shouldWrapRows","shouldWrapCells","shouldRefocus","children","hotKeys","focusedRow","useRef","focusedCell","grid","containerRef","child","decoratedChild","mergeRefs","getNode","rowIndex","cellIndex","get","register","columnIndex","Array","prevNode","current","useEffect","focusNextCell","directionY","directionX","position","getNextCellPosition","currentCell","currentRow","Object","handler","useHotkeys","keys","registerHotKeysHooks","defaultKeyBindings","ArrowUp","runAll","ArrowRight","ArrowDown","ArrowLeft","Home","End","nextKeyBindings","defaultBindings","onKeyDown","action","isFunction","activate","container","deactivate","valueProvider","useMemo","ExpandableInput","opened","InputWrapper","ExpandableInputImpl","input","focus","InputComponent","classProps","rightComponents","cloneElement","param","nextRow","nextCell","rowCount","isLeftRight","cellsLength","_interopDefault","ex","require","hotkeys","module","exports","_ref","_ref$options","deps","arguments","length","memoizedCallback","useCallback","unbind","createIcon","paths","height"],"mappings":"wSAIe,SAAuBA,GAAgC,IAAdC,EAAc,uDAAJ,GAChE,OAAO,gBACLC,EADK,mBACaC,EADb,mBAC+BC,EAD/B,mBACoDC,EADpD,iFAGL,mCACEC,YADF,EAEEJ,iBAFF,EAGEC,iBAAkBA,GAHpB,GAME,qCATG,O,8KCDHI,EAAiB,SAAAP,GAAgB,qEAWnC,cAAmB,iCACjB,iBADiB,6CATDQ,mBAAS,EAAD,mBAWxB,QAAa,CACXC,MAAOJ,EADI,MAEXK,cAAe,IAEjB,eAAoB,gCAApB,IACA,cAAmB,+BAAnB,IACA,eAAoB,gCAApB,IACA,YAAiBC,IAAjB,YATiB,EAXgB,2DA+BpB,MACsBC,KADtB,MACLC,EADK,UACIC,EADJ,gBAELC,EAAQC,EAFH,IAGTF,GAAJ,UAAqBC,GACnBH,KAAA,eAEFC,OArCiC,qCAuCpB,MACgDD,KADhD,MACLK,EADK,WACKC,EADL,WACeC,EADf,gBAC8BL,EAD9B,gBAELL,EAAUG,KAFL,YAIb,GAAmBA,KAAKQ,SAAS,CAAEX,MAAO,KACtCK,IAAJ,GAEAG,EAAS,CACPI,MAAO,OAAF,IAAE,CAAF,KADE,GAEPH,SAFO,EAGPT,YAjD+B,sCAoDV,WACfA,EADe,EAAVa,OAAU,MAEfR,EAAkBF,KAFH,oBAIvBA,KAAA,SAAc,CAAEH,UAAS,WACvB,GAAoB,yBAzDW,+BA4D1B,IACCA,EAAUG,KADX,cAE6BA,KAF7B,MAECW,EAFD,iBAEoBC,EAFpB,kCAIP,OACE,sCAEEC,UAAWb,KAFb,UAGEW,eAHF,EAIEG,SAAUd,KAJZ,aAKEC,QAASD,KALX,YAMEK,SAAUL,KANZ,aAOEH,MAAOA,QAxEsB,qDAsB2B,IAAjBC,EAAiB,EAAjBA,cAC3C,OAAIiB,UAAJ,EACS,CACLlB,MAAOkB,EADF,MAELjB,cAAeiB,EAAUlB,OAG7B,SA7BiC,6CAGb,CACpBQ,SAAU,wBACVJ,QAAS,wBACTK,SAHoB,MAIpBJ,eAJoB,EAKpBK,eALoB,EAMpBI,eAAgB,KATiB,GCMjCK,EAAqBC,mBAD3B,oBAoFA,EAAetB,EAjFTuB,Y,sCAGJ,cAAmB,iCACjB,iBADiB,uCAFPtB,mBAAS,EAAD,sBAED,uCADPA,mBAAS,EAAD,sBAGlB,QAAa,CACXuB,QAAQ,GAGV,YAAiB,6BAAjB,IACA,YAAiB,6BAAjB,IACA,kBAAuB,mCAAvB,IACA,kBAAuB,mCAAvB,IATiB,iD,+DAWAC,GAAW,MACKpB,KADL,MACpBO,EADoB,gBACLV,EADK,QAEbwB,EAAcD,EAFD,MAGxBb,GAAiBV,IAAjBU,UAAJ,IAAmEc,UACjErB,KAAA,sB,qCAGW,MACuBA,KADvB,MACLK,EADK,WACKE,EADL,gBAEbF,IACA,GAAmBL,KAAKQ,SAAS,CAAEW,QAAQ,M,wCAEN,IAAvBG,IAAuB,yDAC7BzB,EAAUG,KADmB,YAErC,EACE,GAAoBA,KAAKuB,eAEzBvB,KAAA,SAAc,CAAEmB,QAAQ,M,iCAGjBf,GACLJ,KAAKwB,aAAaC,SAASrB,EAA/B,SACAJ,KAAA,gB,wCAGAA,KAAA,SAAc,CAAEmB,QAAQ,M,+BAEjB,aAWHnB,KAXG,MAELc,EAFK,WAGLb,EAHK,UAILJ,EAJK,QAKL6B,EALK,cAMLC,EANK,YAOLC,EAPK,YAQLf,EARK,YASLF,EATK,2BAULkB,OAVK,YAYCV,EAAWnB,KAZZ,aAaP,OACE,yBACE,uBACEW,eADF,EAEEmB,SAAU,SAAAC,GAAI,OAAK,eAAL,GACdZ,OAHF,EAIEa,OAAQhC,KAJV,WAKEiC,QAASjC,KALX,UAMEkC,OAAQlC,KANV,UAOEmC,iBAAkB,uBAAUhC,IAAV,UAAwBiC,WAAxB,OAA0CC,KAAM,sBAAhD,MAAgEP,SAAUjB,IAC5FgB,MAAOA,GAEP,uBACED,UAAS,kCADX,GAEED,UAFF,EAGEb,SAHF,EAIEb,QAJF,EAKEyB,YALF,EAMEY,UANF,EAOEzC,MAAOA,U,EAzEbqB,CAAwBqB,cCmC9B,MAAe5C,GAxCf,SAAuB,GAcpB,IAbDgB,EAaC,EAbDA,eACAe,EAYC,EAZDA,YACAE,EAWC,EAXDA,UACAY,EAUC,EAVDA,SACAV,EASC,EATDA,SACAQ,EAQC,EARDA,SACAG,EAOC,EAPDA,MACA3B,EAMC,EANDA,SACAb,EAKC,EALDA,QACAI,EAIC,EAJDA,SACAqC,EAGC,EAHDA,SACA7C,EAEC,EAFDA,MACA8B,EACC,EADDA,UAEA,OACE,uBACEC,UADF,EAEED,UAFF,EAGEhB,eAHF,EAIE6B,SAJF,EAKEV,SALF,EAMEhB,SANF,EAOEb,QAPF,EAQEyB,YARF,EASEgB,SATF,EAUEC,eAAgBL,GACd,uBACEF,WADF,OAEEC,KAAM,sBAFR,MAGEO,SAHF,IAIEC,QAASxC,IAGboC,MAlBF,EAmBE5C,MAAOA,OCtCPiD,EAAc,SAAC,GAiBf,QAhBJnC,sBAgBI,MAhBa,GAgBb,MAfJmB,gBAeI,WAfOiB,EAeP,MAdJnB,iBAcI,MAdQ,GAcR,MAbJY,gBAaI,aAZJQ,kBAYI,MAZS,SAYT,MAXJP,aAWI,MAXI,GAWJ,MAVJnC,gBAUI,MAVO,MAUP,MATJoB,mBASI,MATU,aASV,MARJxB,qBAQI,aAPJK,qBAOI,aANJN,eAMI,MANM,wBAMN,MALJI,gBAKI,MALO,wBAKP,MAJJqC,gBAII,aAHJ7C,aAGI,WAHIkD,EAGJ,MAFJT,gBAEI,aADJW,yBACI,SACJ,OACE,qBACErB,UADF,EAEErB,cAFF,EAGEI,eAHF,EAIE6B,SAJF,EAKEV,SALF,EAME7B,QANF,EAOEI,SAPF,EAQEqB,YARF,EASEpB,SATF,EAUEoC,SAVF,EAWEM,WAXF,EAYE9C,cAZF,EAaEoC,SAbF,EAcEG,MAdF,EAeEQ,kBAfF,EAgBEpD,MAAOA,KAKbiD,YAAwB,CACtBnC,eAAgBuC,UADM,IAEtBtB,UAAWsB,IAFW,OAGtBpB,SAAUoB,eAHY,SAOtBF,WAAYE,IAPU,OAWtBT,MAAOS,aAAmBA,IAXJ,QAYtB5C,SAAU4C,IAZY,OAgBtBxB,YAAawB,IAhBS,OAoBtBhD,cAAegD,IApBO,KAwBtB3C,cAAe2C,IAxBO,KA4BtBjD,QAASiD,IA5Ba,KAgCtB7C,SAAU6C,IAhCY,KAoCtBrD,MAAOqD,cAAoB,CACzBA,IADyB,OAEzBA,IAFyB,OAGzBA,IAvCoB,SA4CtBZ,SAAUY,IA5CY,KAgDtBD,kBAAmBC,IAhDG,KAoDtBV,SAAUU,IAAUC,M,+ICxFTC,EAAmBC,0BACxBC,EAAaF,EAAbE,SAEFC,EAAiB,SAAAnD,GAAC,OAAIA,EAAJ,kB,IAoBT,SAA2B,GAOvC,QANDoD,sBAMC,aALDC,uBAKC,aAJDC,qBAIC,SAHDC,EAGC,EAHDA,SACAjE,EAEC,EAFDA,YACAkE,EACC,EADDA,QAEMC,EAAaC,mBACbC,EAAcD,mBACdE,EAAOF,iBAAb,IACMG,EAAeH,iBAArB,UACMI,EAAQnE,kBAAd,GACMoE,EAAiB,mBAA0B,CAAErC,SAAUsC,oBAAUF,QAAD,cAEhEG,EAAU,SAAC,GAAD,IAAGC,EAAH,WAAaC,EAAb,mBAA6BC,cAAIR,EAAD,QAAe,CAACM,EAAhD,KAEVG,EAAW,SAAC1C,EAAMuC,EAAUI,GAChC,IACKC,cAAcX,UAAnB,MACEA,iBAGEM,OAAJ,IAAsBI,EACpB3C,6BAEAA,8BAGFA,UAAe,WACb,IAAM6C,EAAWP,EAAQ,CACvBC,SAAUT,EADa,QAEvBU,UAAWR,EAAYc,UAGzB,GAAcD,8BAEd7C,6BACA8B,YACAE,aAEFC,oBAGFc,qBAAU,WACR,KAAmB,CACjB,IAAMR,EAAWT,EAAjB,QACMU,EAAYR,EAAlB,QAEMhC,EAAOyC,cAAIR,EAAD,QAAe,CAACM,EAAhC,IACA,GAAUvC,cAKd,IAAMgD,EAAgB,SAACC,EAAYC,EAAYC,GAAa,MAC1BA,GAAYC,YAAoB,CAC9DnB,KAAMA,EADwD,QAE9DoB,YAAarB,EAFiD,QAG9DsB,WAAYxB,EAHkD,QAI9DoB,WAJ8D,EAK9DD,WAL8D,EAM9DvB,gBAN8D,EAO9DD,mBAPMc,EADkD,WACxCC,EADwC,YAWpDxC,EAAOsC,EAAQ,CAAEC,SAAF,EAAYC,cAGjC,IACExC,UACA8B,YACAE,eA1FN,SAA8BH,EAAS,GAA6B,IAA3BC,EAA2B,EAA3BA,WAAYE,EAAe,EAAfA,YACnDuB,wBAA6B,YAAS,MACP1B,EADO,GAC5B2B,EAD4B,UACnBlG,EADmB,UAEpCmG,IAAW,CACTC,KADS,EAETF,QAAS,YACPnF,mBACAmF,EAAQ,CACNjB,SAAUT,EADJ,QAENU,UAAWR,EAAYc,WAG3BxF,eAkFJqG,CAAqB9B,EAAS,CAAEG,YAAF,EAAeF,eAE7C,IAAM8B,EAAqB,OAAH,IAAG,CAAH,CACtBC,QAASC,iBAAOtC,GAAgB,kBAAMwB,GAAa,EAAnB,MAChCe,WAAYD,iBAAOtC,GAAgB,kBAAMwB,EAAc,EAApB,MACnCgB,UAAWF,iBAAOtC,GAAgB,kBAAMwB,EAAc,EAApB,MAClCiB,UAAWH,iBAAOtC,GAAgB,kBAAMwB,EAAc,GAApB,MAClCkB,KAAMJ,iBAAOtC,GACX,YACE,IAAIe,EAAWT,EAAf,QACIzD,EAAJ,UACEkE,KAEFS,EAAc,EAAD,EAGX,CAAET,SAAF,EAAYC,UAAW,OAG7B2B,IAAKL,iBAAOtC,GACV,YACE,IAAIe,EAAWT,EAAf,QACIzD,EAAJ,UACEkE,EAAWN,iBAAXM,GAEFS,EAAc,EAAD,EAGX,CAAET,SAAF,EAAYC,UAAWP,oBAAyB,QA1BxD,GA+BMmC,EAAkB,wBACpBzG,EAAY,CACZ0G,gBADY,EAEZ9B,SAAUT,EAFE,QAGZU,UAAWR,EAAYc,UAJH,8BAAxB,GASMwB,EAAY,SAACjG,GACjB,aAAIA,+BAAJ,CACA,IAAMkG,EAASH,EAAgB/F,EAA/B,KACImG,qBAAJ,IAAwBD,OAW1BxB,qBAAU,WAER,OADSb,EAATuC,QARAC,iCASO,YANU,SAACA,GAClBA,sCAMEC,CAAWzC,EAAXyC,YAHJ5B,IAQA,IAAM6B,EAAgBC,mBAAQ,iBAAO,CACnCnC,cADF,IAIA,OACE,qBAAU5E,MAAO8G,GADnB,K,qFCxKIE,EAAkB,mBAFxB,mBAEwB,MAA0C,kBAAiB,CAAEC,OAAnB,aAC5DC,EAAe,iBAHrB,mBAGqB,WAA2D,kBAAiB,CAAED,OAAnB,aAE3DE,c,0JACA5F,GAAW,IACpBD,EAAWnB,KADS,aAExBmB,GAAUA,IAAWC,EAAzB,QAA2CpB,KAAKiH,MAAMC,U,+BAE/C,aAWHlH,KAXG,MAEL8B,EAFK,WAGLK,EAHK,mBAILwB,EAJK,WAKL9B,EALK,QAMLV,EANK,SAOLe,EAPK,SAQLD,EARK,UASLD,EATK,SAULrB,EAVK,iBAYDwG,EAAiBpH,kBAAvB,GAUA,OACE,sCAEEqH,WAAY,CAAEjG,UACdW,SAHF,EAIEW,MAAO,CAAEZ,MAAOV,GAAUU,KAE1B,qBACEwF,gBAAiB,CACfC,uBAAanF,EAAkB,CAC7BhC,IAD6B,UAE7B0C,QApBiB,SAACzC,GACtBmG,YAAWpE,EAAf,UAA0CA,aAC1C,EACEF,IAEAC,SAmBGoF,uBAAaH,EAAgB,CAC5BvF,UAD4B,0BAE5BE,SAAU,SAAAC,GAAI,OAAI,QAAJ,GACdC,iB,EA7CSgF,CAA4BzE,a,ICPvB,SAAC,GAYrB,QAXJ5B,sBAWI,MAXa,GAWb,EAVJmB,EAUI,EAVJA,SAUI,IATJF,iBASI,MATQ,GASR,MARJa,aAQI,MARI,GAQJ,MAPJN,wBAOI,WAPeY,EAOf,EANJY,EAMI,EANJA,SAMI,IALJxC,cAKI,aAJJe,cAII,MAJK,wBAIL,MAHJD,eAGI,MAHM,wBAGN,MAFJD,cAEI,MAFK,wBAEL,MADJH,aACI,WADIkB,EACJ,EACJ,OACE,qBACEnB,UADF,EAEEjB,eAFF,EAGEmB,SAHF,EAIEX,OAJF,EAKEa,OALF,EAMEC,QANF,EAOEC,OAPF,EAQEO,MARF,EASEN,iBATF,EAUEN,MAAOA,GAXX,K,4ECNW0E,EAAa,SAACgB,GACzB,0BAAcA,I,qCCVD,SAA6B,GAQzC,IAPDvD,EAOC,EAPDA,KAOC,IANDqB,kBAMC,MANY,EAMZ,MALDD,mBAKC,MALa,EAKb,EAJDJ,EAIC,EAJDA,WACAC,EAGC,EAHDA,WACAxB,EAEC,EAFDA,gBACAD,EACC,EADDA,eAEIgE,EAAUnC,EAAd,EACIoC,EAAWrC,EAAf,EACMsC,EAAW1D,EAAjB,OACM2D,EAAN,IAAoB1C,EAEpB,MACE,SAGF,IAAM2C,EAAc5D,KAVnB,OAyCD,OA5BIP,GAAJ,IAEMgE,EAAJ,IACEA,EAAWG,EAAXH,EACAD,MAGEC,GAAJ,IACEA,IACAD,OAKAhE,IAAJ,IAEMgE,EAAJ,GACEC,KAEIzD,EADJwD,EAAUE,EAAVF,IACqBC,GAAjBzD,IAAmCA,KAAvC,KACEwD,QAEOA,OAAwBxD,KAA5B,MACLwD,IACAC,OAIG,CACLlD,UADK,EAELD,SAAUkD,K,iCClDd,SAASK,EAAiBC,GAAM,OAAQA,GAAqB,kBAAPA,GAAoB,YAAaA,EAAMA,EAAE,QAAcA,EAE7G,IAAI/H,EAAQgI,EAAQ,GAEhBC,GADiBH,EAAgB9H,GACvB8H,EAAgBE,EAAQ,MAiBtCE,EAAOC,QAfP,SAAoBC,GAClB,IAAI1C,EAAO0C,EAAK1C,KACZF,EAAU4C,EAAK5C,QACf6C,EAAeD,EAAK9I,QACpBA,OAA2B,IAAjB+I,EAA0B,GAAKA,EACzCC,EAAOC,UAAUC,OAAS,QAAsBxF,IAAjBuF,UAAU,GAAmBA,UAAU,GAAK,GAC3EE,EAAmBzI,EAAM0I,YAAYlD,EAAS8C,GAClDtI,EAAM+E,WAAU,WAEd,OADAkD,EAAQvC,EAAMpG,EAASmJ,GAChB,WACL,OAAOR,EAAQU,OAAOjD,MAEvB,CAAC+C,M,6DCjBN,EAAeG,YAAW,CACxBC,MAAO,CADiB,sXAExBC,OAFwB,GAGxBhH,MAAO,K","file":"static/js/1.80d55047.chunk.js","sourcesContent":["/* eslint-disable react/display-name */\nimport React from 'react'\nimport FocusGroupManager from './FocusGroupManager'\n\nexport default function FocusGroupHoc(WrappedComponent, options = {}) {\n  return ({\n    onExitFocusGroup, onFocusPrevGroup, focusKeyBindings, ...props\n  }) => (\n    <FocusGroupManager\n      keyBindings={focusKeyBindings}\n      onExitFocusGroup={onExitFocusGroup}\n      onFocusPrevGroup={onFocusPrevGroup}\n      {...options}\n    >\n      <WrappedComponent {...props} {...options} />\n    </FocusGroupManager>\n  )\n}\n","/* eslint-disable react/display-name */\nimport React, { Component } from 'react';\nimport { debounce } from '@elliemae/ds-utilities/utils';\n\nconst withSearchable = WrappedComponent =>\n  class extends Component {\n    debouncedSearch = debounce(this.handleSearch, 200);\n    static defaultProps = {\n      onSearch: () => null,\n      onKeyUp: () => null,\n      property: 'all',\n      searchOnEnter: true,\n      clearOnSearch: false,\n      containerProps: {},\n    };\n    constructor(props) {\n      super(props);\n      this.state = {\n        value: props.value,\n        prevPropValue: '',\n      };\n      this.handleSearch = this.handleSearch.bind(this);\n      this.handleKeyUp = this.handleKeyUp.bind(this);\n      this.handleChange = this.handleChange.bind(this);\n      this.buttonRef = React.createRef();\n    }\n    static getDerivedStateFromProps(nextProps, { prevPropValue }) {\n      if (nextProps.value !== prevPropValue) {\n        return {\n          value: nextProps.value,\n          prevPropValue: nextProps.value,\n        };\n      }\n      return null;\n    }\n    handleKeyUp(e) {\n      const { onKeyUp, searchOnEnter } = this.props;\n      const { key } = e;\n      if (searchOnEnter && key === 'Enter') {\n        this.handleSearch();\n      }\n      onKeyUp(e);\n    }\n    handleSearch() {\n      const { onSearch, property, clearOnSearch, searchOnEnter } = this.props;\n      const { value } = this.state;\n\n      if (clearOnSearch) this.setState({ value: '' });\n      if (searchOnEnter && !value) return;\n      // if (this.buttonRef.current) this.buttonRef.current.focus()\n      onSearch({\n        query: { [property]: value },\n        property,\n        value,\n      });\n    }\n    handleChange({ target }) {\n      const { value } = target;\n      const { searchOnEnter } = this.props;\n\n      this.setState({ value }, () => {\n        if (!searchOnEnter) this.debouncedSearch();\n      });\n    }\n    render() {\n      const { value } = this.state;\n      const { containerProps, ...rest } = this.props;\n\n      return (\n        <WrappedComponent\n          {...rest}\n          buttonRef={this.buttonRef}\n          containerProps={containerProps}\n          onChange={this.handleChange}\n          onKeyUp={this.handleKeyUp}\n          onSearch={this.handleSearch}\n          value={value}\n        />\n      );\n    }\n  };\n\nexport default withSearchable;\n","import React, { Component } from 'react'\nimport { debounce } from '@elliemae/ds-utilities/utils'\nimport SearchIcon from '@elliemae/ds-icons/Search'\nimport DSTextBox from '@elliemae/ds-basic/form/TextBox'\nimport DSButton from '@elliemae/ds-basic/Button'\nimport DSExpandableInput from '@elliemae/ds-basic/form/ExpandableInput'\nimport { aggregatedClasses } from '@elliemae/ds-classnames'\nimport withSearchable from './withSearchable'\n\nconst blockName = 'searchbox-toggle'\nconst SearchBoxContainer = aggregatedClasses('div')(blockName)\n\nclass SearchBoxToggle extends Component {\n  hideInput = debounce(this.handleHideInput, 100)\n  showInput = debounce(this.handleShowInput, 100)\n  constructor(props) {\n    super(props)\n    this.state = {\n      isOpen: false,\n    }\n\n    this.hideInput = this.hideInput.bind(this)\n    this.showInput = this.showInput.bind(this)\n    this.handleHideInput = this.handleHideInput.bind(this)\n    this.handleShowInput = this.handleShowInput.bind(this)\n  }\n  componentDidUpdate(prevProps) {\n    const { clearOnSearch, value } = this.props\n    const { value: prevValue } = prevProps\n    if (clearOnSearch && value !== prevValue && !value && prevValue && prevValue.length !== 1) {\n      this.handleHideInput(false)\n    }\n  }\n  handleSearch() {\n    const { onSearch, clearOnSearch } = this.props\n    onSearch()\n    if (clearOnSearch) this.setState({ isOpen: false })\n  }\n  handleHideInput(executeIfValue = true) {\n    const { value } = this.props\n    if (value) {\n      if (executeIfValue) this.handleSearch()\n    } else {\n      this.setState({ isOpen: false })\n    }\n  }\n  handleBlur(e) {\n    if (this.expandableEl.contains(e.target)) return\n    this.hideInput(false)\n  }\n  handleShowInput() {\n    this.setState({ isOpen: true })\n  }\n  render() {\n    const {\n      onChange,\n      onKeyUp,\n      value,\n      placeholder,\n      clearable,\n      className,\n      buttonRef,\n      containerProps,\n      width = 300,\n    } = this.props\n    const { isOpen } = this.state\n    return (\n      <SearchBoxContainer>\n        <DSExpandableInput\n          containerProps={containerProps}\n          innerRef={node => (this.expandableEl = node)}\n          isOpen={isOpen}\n          onBlur={this.handleBlur}\n          onClose={this.hideInput}\n          onOpen={this.showInput}\n          triggerComponent={<DSButton key='handler' buttonType='text' icon={<SearchIcon />} innerRef={buttonRef} />}\n          width={width}\n        >\n          <DSTextBox\n            className={`expandable-input__input ${className}`}\n            clearable={clearable}\n            onChange={onChange}\n            onKeyUp={onKeyUp}\n            placeholder={placeholder}\n            showIcon={false}\n            value={value}\n          />\n        </DSExpandableInput>\n      </SearchBoxContainer>\n    )\n  }\n}\n\nexport default withSearchable(SearchBoxToggle)\n","/* eslint-disable react/no-unused-state */\nimport React from 'react'\nimport Search from '@elliemae/ds-icons/Search'\nimport DSButton from '@elliemae/ds-basic/Button'\nimport DSTextBox from '@elliemae/ds-basic/form/TextBox'\nimport withSearchable from './withSearchable'\n\nfunction SearchBoxImpl({\n  containerProps,\n  placeholder,\n  className,\n  disabled,\n  innerRef,\n  showIcon,\n  style,\n  onChange,\n  onKeyUp,\n  onSearch,\n  readOnly,\n  value,\n  clearable,\n}) {\n  return (\n    <DSTextBox\n      className={className}\n      clearable={clearable}\n      containerProps={containerProps}\n      disabled={disabled}\n      innerRef={innerRef}\n      onChange={onChange}\n      onKeyUp={onKeyUp}\n      placeholder={placeholder}\n      readOnly={readOnly}\n      rightComponent={showIcon && (\n        <DSButton\n          buttonType='text'\n          icon={<Search />}\n          iconSize='s'\n          onClick={onSearch}\n        />\n      )}\n      style={style}\n      value={value}\n    />\n  )\n}\n\nexport default withSearchable(SearchBoxImpl)\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SearchBoxImpl from './SearchBoxImpl';\n\nconst DSSearchBox = ({\n  containerProps = {},\n  innerRef = undefined,\n  className = '',\n  disabled = false,\n  searchIcon = 'search',\n  style = {},\n  property = 'all',\n  placeholder = 'Search all', // todo: i18nize this\n  searchOnEnter = true,\n  clearOnSearch = false,\n  onKeyUp = () => null,\n  onSearch = () => null,\n  readOnly = false,\n  value = undefined,\n  showIcon = true,\n  toggleSearchInput = false,\n}) => {\n  return (\n    <SearchBoxImpl\n      className={className}\n      clearOnSearch={clearOnSearch}\n      containerProps={containerProps}\n      disabled={disabled}\n      innerRef={innerRef}\n      onKeyUp={onKeyUp}\n      onSearch={onSearch}\n      placeholder={placeholder}\n      property={property}\n      readOnly={readOnly}\n      searchIcon={searchIcon}\n      searchOnEnter={searchOnEnter}\n      showIcon={showIcon}\n      style={style}\n      toggleSearchInput={toggleSearchInput}\n      value={value}\n    />\n  );\n};\n\nDSSearchBox.propTypes = {\n  containerProps: PropTypes.shape({}),\n  className: PropTypes.string,\n  innerRef: PropTypes.instanceOf(Element),\n  /**\n   * Icon to use in the search button\n   */\n  searchIcon: PropTypes.string,\n  /**\n   * Set style to the search box\n   */\n  style: PropTypes.objectOf(PropTypes.string),\n  property: PropTypes.string,\n  /**\n   * Placeholder for the search box\n   */\n  placeholder: PropTypes.string,\n  /**\n   * Whether to trigger the search once the enter is pressed\n   */\n  searchOnEnter: PropTypes.bool,\n  /**\n   * Whether to clear the input on search\n   */\n  clearOnSearch: PropTypes.bool,\n  /**\n   * Allows a function that is triggered once in the search box a keyboard key is released\n   */\n  onKeyUp: PropTypes.func,\n  /**\n   * Allows a function that is triggered once the search is clicked\n   */\n  onSearch: PropTypes.func,\n  /**\n   * Selected default active value\n   */\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.object,\n  ]),\n  /**\n   * Whether to show an icon or not\n   */\n  showIcon: PropTypes.bool,\n  /**\n   * Whether to toggle the search input or not\n   */\n  toggleSearchInput: PropTypes.bool,\n  /**\n   * Disables the search input\n   */\n  disabled: PropTypes.bool,\n};\n\nexport default DSSearchBox;\n","import React, {\n  createContext, useEffect, useMemo, useRef,\n} from 'react'\nimport { isFunction, runAll, get } from '@elliemae/ds-utilities/utils'\nimport useHotkeys from '@elliemae/ds-utilities/hooks/useHotkeys'\nimport { mergeRefs } from '@elliemae/ds-utilities/system'\nimport getNextCellPosition from './utils/getNextCellPosition'\n\nexport const FocusGridContext = createContext()\nconst { Provider } = FocusGridContext\n\nconst preventDefault = e => e.preventDefault()\n\nfunction registerHotKeysHooks(hotKeys, { focusedRow, focusedCell }) {\n  Object.keys(hotKeys).forEach((key) => {\n    const { handler, options } = hotKeys[key]\n    useHotkeys({\n      keys: key,\n      handler: (e) => {\n        e.preventDefault()\n        handler({\n          rowIndex: focusedRow.current,\n          cellIndex: focusedCell.current,\n        })\n      },\n      options,\n    })\n  })\n}\n\n// eslint-disable-next-line max-statements\nexport default function FocusGridProvider({\n  shouldWrapRows = false,\n  shouldWrapCells = false,\n  shouldRefocus = true,\n  children,\n  keyBindings,\n  hotKeys,\n}) {\n  const focusedRow = useRef()\n  const focusedCell = useRef()\n  const grid = useRef([])\n  const containerRef = useRef(document)\n  const child = React.Children.only(children)\n  const decoratedChild = React.cloneElement(child, { innerRef: mergeRefs(child.props.innerRef, containerRef) })\n\n  const getNode = ({ rowIndex, cellIndex }) => get(grid.current, [rowIndex, cellIndex])\n\n  const register = (node, rowIndex, columnIndex) => {\n    if (!node) return\n    if (!Array.isArray(grid.current[rowIndex])) {\n      grid.current[rowIndex] = []\n    }\n\n    if (rowIndex === 0 && columnIndex === 0) {\n      node.setAttribute('tabindex', 0)\n    } else {\n      node.setAttribute('tabindex', -1)\n    }\n\n    node.onfocus = () => {\n      const prevNode = getNode({\n        rowIndex: focusedRow.current,\n        cellIndex: focusedCell.current,\n      })\n\n      if (prevNode) prevNode.setAttribute('tabindex', -1)\n\n      node.setAttribute('tabindex', 0)\n      focusedRow.current = rowIndex\n      focusedCell.current = columnIndex\n    }\n    grid.current[rowIndex][columnIndex] = node\n  }\n\n  useEffect(() => {\n    if (shouldRefocus) {\n      const rowIndex = focusedRow.current\n      const cellIndex = focusedCell.current\n\n      const node = get(grid.current, [rowIndex, cellIndex])\n      if (node) node.focus()\n    }\n  })\n\n\n  const focusNextCell = (directionY, directionX, position) => {\n    const { rowIndex, cellIndex } = position || getNextCellPosition({\n      grid: grid.current,\n      currentCell: focusedCell.current,\n      currentRow: focusedRow.current,\n      directionX,\n      directionY,\n      shouldWrapCells,\n      shouldWrapRows,\n    })\n\n    const node = getNode({ rowIndex, cellIndex })\n\n    // can focus\n    if (node) {\n      node.focus()\n      focusedRow.current = rowIndex\n      focusedCell.current = cellIndex\n    }\n  }\n\n  registerHotKeysHooks(hotKeys, { focusedCell, focusedRow })\n\n  const defaultKeyBindings = {\n    ArrowUp: runAll(preventDefault, () => focusNextCell(-1, 0)),\n    ArrowRight: runAll(preventDefault, () => focusNextCell(0, 1)),\n    ArrowDown: runAll(preventDefault, () => focusNextCell(1, 0)),\n    ArrowLeft: runAll(preventDefault, () => focusNextCell(0, -1)),\n    Home: runAll(preventDefault,\n      (e) => {\n        let rowIndex = focusedRow.current\n        if (e.ctrlKey) {\n          rowIndex = 0\n        }\n        focusNextCell(\n          0,\n          0,\n          { rowIndex, cellIndex: 0 })\n      },\n    ),\n    End: runAll(preventDefault,\n      (e) => {\n        let rowIndex = focusedRow.current\n        if (e.ctrlKey) {\n          rowIndex = grid.current.length - 1\n        }\n        focusNextCell(\n          0,\n          0,\n          { rowIndex, cellIndex: grid.current[0].length - 1 })\n      },\n    ),\n    ...keyBindings,\n  }\n  const nextKeyBindings = isFunction(keyBindings)\n    ? keyBindings({\n      defaultBindings: defaultKeyBindings,\n      rowIndex: focusedRow.current,\n      cellIndex: focusedCell.current,\n    })\n    : { ...defaultKeyBindings, ...keyBindings }\n\n\n  const onKeyDown = (e) => {\n    if (e.target.tagName.toLowerCase() === 'input') return\n    const action = nextKeyBindings[e.key]\n    if (isFunction(action)) action(e)\n  }\n\n  const activate = (container) => {\n    container.addEventListener('keydown', onKeyDown, true)\n  }\n\n  const deactivate = (container) => {\n    container.removeEventListener('keydown', onKeyDown, true)\n  }\n\n  useEffect(() => {\n    activate(containerRef.current)\n    return () => {\n      deactivate(containerRef.current)\n    }\n  }, [])\n\n\n  const valueProvider = useMemo(() => ({\n    register,\n  }), [])\n\n  return (\n    <Provider value={valueProvider}>\n      {decoratedChild}\n    </Provider>\n  )\n}\n","import React, { Component, cloneElement } from 'react'\nimport { aggregatedClasses } from '@elliemae/ds-classnames'\nimport { isFunction } from '@elliemae/ds-shared/utils'\nimport { InputAddonWrapper } from '@elliemae/ds-basic/form/Input'\n\nconst blockName = 'expandable-input'\n\nconst ExpandableInput = aggregatedClasses('div')(blockName, null, ({ isOpen }) => ({ opened: isOpen }))\nconst InputWrapper = aggregatedClasses(InputAddonWrapper)(blockName, 'wrapper', ({ isOpen }) => ({ opened: isOpen }))\n\nexport default class ExpandableInputImpl extends Component {\n  componentDidUpdate(prevProps) {\n    const { isOpen } = this.props\n    if (isOpen && isOpen !== prevProps.isOpen) this.input.focus()\n  }\n  render() {\n    const {\n      innerRef,\n      triggerComponent,\n      children,\n      width,\n      isOpen,\n      onOpen,\n      onClose,\n      onBlur,\n      containerProps,\n    } = this.props\n    const InputComponent = React.Children.only(children)\n    const handleTriggerClick = (e) => {\n      if (isFunction(triggerComponent.onClick)) triggerComponent.onClick(e)\n      if (isOpen) {\n        onClose()\n      } else {\n        onOpen()\n      }\n    }\n\n    return (\n      <ExpandableInput\n        {...containerProps}\n        classProps={{ isOpen }}\n        innerRef={innerRef}\n        style={{ width: isOpen && width }}\n      >\n        <InputWrapper\n          rightComponents={[\n            cloneElement(triggerComponent, {\n              key: 'handler',\n              onClick: handleTriggerClick,\n            }),\n          ]}\n        >\n          {cloneElement(InputComponent, {\n            className: 'expandable-input__input',\n            innerRef: node => this.input = node,\n            onBlur,\n          })}\n        </InputWrapper>\n      </ExpandableInput>\n    )\n  }\n}\n","import React from 'react'\nimport ExpandableInputImpl from './ExpandableInputImpl'\n\nconst DSExpandableInput = ({\n  containerProps = {},\n  innerRef,\n  className = '',\n  style = {},\n  triggerComponent = undefined,\n  children,\n  isOpen = false,\n  onOpen = () => null,\n  onClose = () => null,\n  onBlur = () => null,\n  width = undefined,\n}) => {\n  return (\n    <ExpandableInputImpl\n      className={className}\n      containerProps={containerProps}\n      innerRef={innerRef}\n      isOpen={isOpen}\n      onBlur={onBlur}\n      onClose={onClose}\n      onOpen={onOpen}\n      style={style}\n      triggerComponent={triggerComponent}\n      width={width}\n    >\n      {children}\n    </ExpandableInputImpl>\n  )\n}\n\nexport default DSExpandableInput\n","/* eslint-disable no-loops/no-loops, no-cond-assign */\nexport const objectType = (obj) => {\n  return Object.prototype.toString.call(obj).slice(8, -1)\n}\nexport const isDefined = (param) => {\n  return typeof param !== 'undefined'\n}\nexport const isUndefined = (param) => {\n  return typeof param === 'undefined'\n}\nexport const isFunction = (param) => {\n  return typeof param === 'function'\n}\nexport const isNumber = (param) => {\n  return typeof param === 'number' && !isNaN(param) // eslint-disable-line\n}\nexport const isString = (str) => {\n  return objectType(str) === 'String'\n}\nexport const isArray = (arr) => {\n  return objectType(arr) === 'Array'\n}\n\nexport const closest = (target, selector) => {\n  // closest(e.target, '.field')\n  while (target) { // eslint-disable-line\n    if (target.matches && target.matches(selector)) return target\n    if (target.msMatchesSelector && target.msMatchesSelector(selector)) return target\n    target = target.parentNode\n  }\n  return null\n}\n\nexport const getOffsetRect = (elem) => {\n  // (1)\n  const box = elem.getBoundingClientRect()\n\n  const { body, documentElement } = document\n\n  // (2)\n  const scrollTop = window.pageYOffset || documentElement.scrollTop || body.scrollTop\n  const scrollLeft = window.pageXOffset || documentElement.scrollLeft || body.scrollLeft\n\n  // (3)\n  const clientTop = documentElement.clientTop || body.clientTop || 0\n  const clientLeft = documentElement.clientLeft || body.clientLeft || 0\n\n  // (4)\n  const top = box.top + scrollTop - clientTop\n  const left = box.left + scrollLeft - clientLeft\n\n  return { top: Math.round(top), left: Math.round(left) }\n}\n\nexport const getTotalScroll = (elem) => {\n  let top = 0\n  let left = 0\n\n  while ((elem = elem.parentNode)) {\n    top += elem.scrollTop || 0\n    left += elem.scrollLeft || 0\n  }\n\n  return { top, left }\n}\n\nexport const getTransformProps = (x, y) => {\n  return {\n    transform: `translate(${x}px, ${y}px)`,\n  }\n}\n\nexport const listWithChildren = (list, childrenProp) => {\n  return list.map((item) => {\n    return {\n      ...item,\n      [childrenProp]: item[childrenProp]\n        ? listWithChildren(item[childrenProp], childrenProp)\n        : [],\n    }\n  })\n}\n\nexport const getAllNonEmptyNodesIds = (items, childrenProp) => {\n  let childrenIds = []\n  const ids = items\n    .filter(item => item[childrenProp].length)\n    .map((item) => {\n      childrenIds = childrenIds.concat(getAllNonEmptyNodesIds(item[childrenProp], childrenProp))\n      return item.id\n    })\n\n  return ids.concat(childrenIds)\n}\n","// eslint-disable-next-line max-statements\nexport default function getNextCellPosition({\n  grid,\n  currentRow = 0,\n  currentCell = 0,\n  directionY,\n  directionX,\n  shouldWrapCells,\n  shouldWrapRows,\n}) {\n  let nextRow = currentRow + directionY\n  let nextCell = currentCell + directionX\n  const rowCount = grid.length\n  const isLeftRight = directionX !== 0\n\n  if (!rowCount) {\n    return false\n  }\n\n  const cellsLength = grid[0].length\n\n  // moving horizontally\n  if (shouldWrapCells && isLeftRight) {\n    // to left\n    if (nextCell < 0) {\n      nextCell = cellsLength - 1\n      nextRow -= 1\n    }\n\n    if (nextCell >= cellsLength) {\n      nextCell = 0\n      nextRow += 1\n    }\n  }\n\n  // moving vertically\n  if (shouldWrapRows && !isLeftRight) {\n    // to top\n    if (nextRow < 0) {\n      nextCell -= 1\n      nextRow = rowCount - 1\n      if (grid[nextRow] && nextCell >= 0 && !grid[nextRow][nextCell]) {\n        nextRow -= 1\n      }\n    } else if (nextRow >= rowCount || !grid[nextRow][nextCell]) {\n      nextRow = 0\n      nextCell += 1\n    }\n  }\n\n  return {\n    cellIndex: nextCell,\n    rowIndex: nextRow,\n  }\n}\n","'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar React = require('react');\nvar React__default = _interopDefault(React);\nvar hotkeys = _interopDefault(require('hotkeys-js'));\n\nfunction useHotkeys(_ref) {\n  var keys = _ref.keys,\n      handler = _ref.handler,\n      _ref$options = _ref.options,\n      options = _ref$options === void 0 ? {} : _ref$options;\n  var deps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var memoizedCallback = React.useCallback(handler, deps);\n  React.useEffect(function () {\n    hotkeys(keys, options, memoizedCallback);\n    return function () {\n      return hotkeys.unbind(keys);\n    };\n  }, [memoizedCallback]);\n}\n\nmodule.exports = useHotkeys;\n","/* eslint-disable */\nimport createIcon from './utils/createIcon'\n\nexport default createIcon({\n  paths: ['M18.869 19.162l-5.943-6.484c1.339-1.401 2.075-3.233 2.075-5.178 0-2.003-.78-3.887-2.197-5.303S9.504 0 7.501 0 3.614.78 2.198 2.197.001 5.497.001 7.5s.78 3.887 2.197 5.303S5.498 15 7.501 15c1.726 0 3.362-.579 4.688-1.645l5.943 6.483a.497.497 0 0 0 .369.162.4997.4997 0 0 0 .369-.837l-.001-.001zM1 7.5C1 3.916 3.916 1 7.5 1S14 3.916 14 7.5 11.084 14 7.5 14 1 11.084 1 7.5z',],\n  height: 20,\n  width: 20,\n})\n"],"sourceRoot":""}